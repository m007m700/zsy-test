import{P as Ft,Q as It,I as ot,U as Fr,F as M,M as st,N as G,aj as At,ak as mt,a0 as Et,u as Rt,D as A,c as rr,$ as zt,_ as Wt,H as jt,al as qt,am as ct,O as ht,an as vt,J as Ut}from"./index-60b7b111.js";import{r as n,c as Vt,h as Qt}from"./index-6e03b95f.js";import{R as Ht}from"./useCSSVarCls-cc3f2108.js";import{u as je,i as Kt}from"./useSize-1d1dcbe5.js";var Pa=function(){function e(t,r){It(this,e),ot(this,"name",void 0),ot(this,"style",void 0),ot(this,"_keyframe",!0),this.name=t,this.style=r}return Ft(e,[{key:"getName",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r?"".concat(r,"-").concat(this.name):this.name}}]),e}();const it=()=>({height:0,opacity:0}),gt=e=>{const{scrollHeight:t}=e;return{height:t,opacity:1}},Jt=e=>({height:e?e.offsetHeight:0}),ut=(e,t)=>(t==null?void 0:t.deadline)===!0||t.propertyName==="height",Gt=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ant"}-motion-collapse`,onAppearStart:it,onEnterStart:it,onAppearActive:gt,onEnterActive:gt,onLeaveStart:Jt,onLeaveActive:it,onAppearEnd:ut,onEnterEnd:ut,onLeaveEnd:ut,motionDeadline:500}},$a=(e,t,r)=>r!==void 0?r:`${e}-${t}`,Da=Gt;var _t=n.createContext(null),yt=[];function Zt(e,t){var r=n.useState(function(){if(!Fr())return null;var h=document.createElement("div");return h}),a=M(r,1),o=a[0],u=n.useRef(!1),s=n.useContext(_t),v=n.useState(yt),d=M(v,2),m=d[0],k=d[1],g=s||(u.current?void 0:function(h){k(function(S){var $=[h].concat(st(S));return $})});function P(){o.parentElement||document.body.appendChild(o),u.current=!0}function f(){var h;(h=o.parentElement)===null||h===void 0||h.removeChild(o),u.current=!1}return G(function(){return e?s?s(P):P():f(),f},[e]),G(function(){m.length&&(m.forEach(function(h){return h()}),k(yt))},[m]),[o,g]}var lt;function Yt(e){if(typeof document>"u")return 0;if(e||lt===void 0){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var r=document.createElement("div"),a=r.style;a.position="absolute",a.top="0",a.left="0",a.pointerEvents="none",a.visibility="hidden",a.width="200px",a.height="150px",a.overflow="hidden",r.appendChild(t),document.body.appendChild(r);var o=t.offsetWidth;r.style.overflow="scroll";var u=t.offsetWidth;o===u&&(u=r.clientWidth),document.body.removeChild(r),lt=o-u}return lt}function wt(e){var t=e.match(/^(.*)px$/),r=Number(t==null?void 0:t[1]);return Number.isNaN(r)?Yt():r}function Xt(e){if(typeof document>"u"||!e||!(e instanceof Element))return{width:0,height:0};var t=getComputedStyle(e,"::-webkit-scrollbar"),r=t.width,a=t.height;return{width:wt(r),height:wt(a)}}function Ot(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var pt="rc-util-locker-".concat(Date.now()),bt=0;function ea(e){var t=!!e,r=n.useState(function(){return bt+=1,"".concat(pt,"_").concat(bt)}),a=M(r,1),o=a[0];G(function(){if(t){var u=Xt(document.body).width,s=Ot();At(`
html body {
  overflow-y: hidden;
  `.concat(s?"width: calc(100% - ".concat(u,"px);"):"",`
}`),o)}else mt(o);return function(){mt(o)}},[t,o])}var Ct=!1;function ra(e){return typeof e=="boolean"&&(Ct=e),Ct}var Mt=function(t){return t===!1?!1:!Fr()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},Bt=n.forwardRef(function(e,t){var r=e.open,a=e.autoLock,o=e.getContainer;e.debug;var u=e.autoDestroy,s=u===void 0?!0:u,v=e.children,d=n.useState(r),m=M(d,2),k=m[0],g=m[1],P=k||r;n.useEffect(function(){(s||r)&&g(r)},[r,s]);var f=n.useState(function(){return Mt(o)}),h=M(f,2),S=h[0],$=h[1];n.useEffect(function(){var j=Mt(o);$(j??null)});var E=Zt(P&&!S),D=M(E,2),y=D[0],l=D[1],W=S??y;ea(a&&r&&Fr()&&(W===y||W===document.body));var q=null;if(v&&Et(v)&&t){var V=v;q=V.ref}var Z=Rt(q,t);if(!P||!Fr()||S===void 0)return null;var re=W===!1||ra(),F=v;return t&&(F=n.cloneElement(v,{ref:Z})),n.createElement(_t.Provider,{value:l},re?F:Vt.createPortal(F,W))});function ta(){var e=A({},Qt);return e.useId}var St=0,kt=ta();const aa=kt?function(t){var r=kt();return t||r}:function(t){var r=n.useState("ssr-id"),a=M(r,2),o=a[0],u=a[1];return n.useEffect(function(){var s=St;St+=1,u("rc_unique_".concat(s))},[]),t||o},na=e=>({animationDuration:e,animationFillMode:"both"}),oa=e=>({animationDuration:e,animationFillMode:"both"}),La=function(e,t,r,a){const u=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${u}${e}-enter,
      ${u}${e}-appear
    `]:Object.assign(Object.assign({},na(a)),{animationPlayState:"paused"}),[`${u}${e}-leave`]:Object.assign(Object.assign({},oa(a)),{animationPlayState:"paused"}),[`
      ${u}${e}-enter${e}-enter-active,
      ${u}${e}-appear${e}-appear-active
    `]:{animationName:t,animationPlayState:"running"},[`${u}${e}-leave${e}-leave-active`]:{animationName:r,animationPlayState:"running",pointerEvents:"none"}}},ia=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};function ua(e){var t=e.prefixCls,r=e.align,a=e.arrow,o=e.arrowPos,u=a||{},s=u.className,v=u.content,d=o.x,m=d===void 0?0:d,k=o.y,g=k===void 0?0:k,P=n.useRef();if(!r||!r.points)return null;var f={position:"absolute"};if(r.autoArrow!==!1){var h=r.points[0],S=r.points[1],$=h[0],E=h[1],D=S[0],y=S[1];$===D||!["t","b"].includes($)?f.top=g:$==="t"?f.top=0:f.bottom=0,E===y||!["l","r"].includes(E)?f.left=m:E==="l"?f.left=0:f.right=0}return n.createElement("div",{ref:P,className:rr("".concat(t,"-arrow"),s),style:f},v)}function la(e){var t=e.prefixCls,r=e.open,a=e.zIndex,o=e.mask,u=e.motion;return o?n.createElement(zt,Wt({},u,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(s){var v=s.className;return n.createElement("div",{style:{zIndex:a},className:rr("".concat(t,"-mask"),v)})}):null}var sa=n.memo(function(e){var t=e.children;return t},function(e,t){return t.cache}),ca=n.forwardRef(function(e,t){var r=e.popup,a=e.className,o=e.prefixCls,u=e.style,s=e.target,v=e.onVisibleChanged,d=e.open,m=e.keepDom,k=e.fresh,g=e.onClick,P=e.mask,f=e.arrow,h=e.arrowPos,S=e.align,$=e.motion,E=e.maskMotion,D=e.forceRender,y=e.getPopupContainer,l=e.autoDestroy,W=e.portal,q=e.zIndex,V=e.onMouseEnter,Z=e.onMouseLeave,re=e.onPointerEnter,F=e.ready,j=e.offsetX,de=e.offsetY,me=e.offsetR,ie=e.offsetB,he=e.onAlign,R=e.onPrepare,H=e.stretch,b=e.targetWidth,Y=e.targetHeight,L=typeof r=="function"?r():r,ue=d||m,te=(y==null?void 0:y.length)>0,tr=n.useState(!y||!te),qe=M(tr,2),ge=qe[0],Ue=qe[1];if(G(function(){!ge&&te&&s&&Ue(!0)},[ge,te,s]),!ge)return null;var ae="auto",_={left:"-1000vw",top:"-1000vh",right:ae,bottom:ae};if(F||!d){var X,le=S.points,se=S.dynamicInset||((X=S._experimental)===null||X===void 0?void 0:X.dynamicInset),Ve=se&&le[0][1]==="r",ar=se&&le[0][0]==="b";Ve?(_.right=me,_.left=ae):(_.left=j,_.right=ae),ar?(_.bottom=ie,_.top=ae):(_.top=de,_.bottom=ae)}var I={};return H&&(H.includes("height")&&Y?I.height=Y:H.includes("minHeight")&&Y&&(I.minHeight=Y),H.includes("width")&&b?I.width=b:H.includes("minWidth")&&b&&(I.minWidth=b)),d||(I.pointerEvents="none"),n.createElement(W,{open:D||ue,getContainer:y&&function(){return y(s)},autoDestroy:l},n.createElement(la,{prefixCls:o,open:d,zIndex:q,mask:P,motion:E}),n.createElement(Ht,{onResize:he,disabled:!d},function(Qe){return n.createElement(zt,Wt({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:D,leavedClassName:"".concat(o,"-hidden")},$,{onAppearPrepare:R,onEnterPrepare:R,visible:d,onVisibleChanged:function(Q){var ye;$==null||(ye=$.onVisibleChanged)===null||ye===void 0||ye.call($,Q),v(Q)}}),function(Se,Q){var ye=Se.className,C=Se.style,xe=rr(o,ye,a);return n.createElement("div",{ref:jt(Qe,t,Q),className:xe,style:A(A(A(A({"--arrow-x":"".concat(h.x||0,"px"),"--arrow-y":"".concat(h.y||0,"px")},_),I),C),{},{boxSizing:"border-box",zIndex:q},u),onMouseEnter:V,onMouseLeave:Z,onPointerEnter:re,onClick:g},f&&n.createElement(ua,{prefixCls:o,arrow:f,arrowPos:h,align:S}),n.createElement(sa,{cache:!d&&!k},L))})}))}),va=n.forwardRef(function(e,t){var r=e.children,a=e.getTriggerDOMNode,o=Et(r),u=n.useCallback(function(v){qt(t,a?a(v):v)},[a]),s=Rt(u,r.ref);return o?n.cloneElement(r,{ref:s}):r}),Pt=n.createContext(null);function $t(e){return e?Array.isArray(e)?e:[e]:[]}function fa(e,t,r,a){return n.useMemo(function(){var o=$t(r??t),u=$t(a??t),s=new Set(o),v=new Set(u);return e&&(s.has("hover")&&(s.delete("hover"),s.add("click")),v.has("hover")&&(v.delete("hover"),v.add("click"))),[s,v]},[e,t,r,a])}function da(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function ma(e,t,r,a){for(var o=r.points,u=Object.keys(e),s=0;s<u.length;s+=1){var v,d=u[s];if(da((v=e[d])===null||v===void 0?void 0:v.points,o,a))return"".concat(t,"-placement-").concat(d)}return""}function Dt(e,t,r,a){return t||(r?{motionName:"".concat(e,"-").concat(r)}:a?{motionName:a}:null)}function hr(e){return e.ownerDocument.defaultView}function ft(e){for(var t=[],r=e==null?void 0:e.parentElement,a=["hidden","scroll","clip","auto"];r;){var o=hr(r).getComputedStyle(r),u=o.overflowX,s=o.overflowY,v=o.overflow;[u,s,v].some(function(d){return a.includes(d)})&&t.push(r),r=r.parentElement}return t}function mr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?t:e}function dr(e){return mr(parseFloat(e),0)}function Lt(e,t){var r=A({},e);return(t||[]).forEach(function(a){if(!(a instanceof HTMLBodyElement||a instanceof HTMLHtmlElement)){var o=hr(a).getComputedStyle(a),u=o.overflow,s=o.overflowClipMargin,v=o.borderTopWidth,d=o.borderBottomWidth,m=o.borderLeftWidth,k=o.borderRightWidth,g=a.getBoundingClientRect(),P=a.offsetHeight,f=a.clientHeight,h=a.offsetWidth,S=a.clientWidth,$=dr(v),E=dr(d),D=dr(m),y=dr(k),l=mr(Math.round(g.width/h*1e3)/1e3),W=mr(Math.round(g.height/P*1e3)/1e3),q=(h-S-D-y)*l,V=(P-f-$-E)*W,Z=$*W,re=E*W,F=D*l,j=y*l,de=0,me=0;if(u==="clip"){var ie=dr(s);de=ie*l,me=ie*W}var he=g.x+F-de,R=g.y+Z-me,H=he+g.width+2*de-F-j-q,b=R+g.height+2*me-Z-re-V;r.left=Math.max(r.left,he),r.top=Math.max(r.top,R),r.right=Math.min(r.right,H),r.bottom=Math.min(r.bottom,b)}}),r}function Nt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(t),a=r.match(/^(.*)\%$/);return a?e*(parseFloat(a[1])/100):parseFloat(r)}function Tt(e,t){var r=t||[],a=M(r,2),o=a[0],u=a[1];return[Nt(e.width,o),Nt(e.height,u)]}function xt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function er(e,t){var r=t[0],a=t[1],o,u;return r==="t"?u=e.y:r==="b"?u=e.y+e.height:u=e.y+e.height/2,a==="l"?o=e.x:a==="r"?o=e.x+e.width:o=e.x+e.width/2,{x:o,y:u}}function Te(e,t){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(a,o){return o===t?r[a]||"c":a}).join("")}function ha(e,t,r,a,o,u,s){var v=n.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[a]||{}}),d=M(v,2),m=d[0],k=d[1],g=n.useRef(0),P=n.useMemo(function(){return t?ft(t):[]},[t]),f=n.useRef({}),h=function(){f.current={}};e||h();var S=je(function(){if(t&&r&&e){let ee=function(Me,Ae){var Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xe,pe=L.x+Me,vr=L.y+Ae,fr=pe+X,Hr=vr+_,et=Math.max(pe,Oe.left),rt=Math.max(vr,Oe.top),tt=Math.min(fr,Oe.right),at=Math.min(Hr,Oe.bottom);return Math.max(0,(tt-et)*(at-rt))},Wr=function(){$e=L.y+w,De=$e+_,Le=L.x+x,Ge=Le+X};var D,y,l=t,W=l.ownerDocument,q=hr(l),V=q.getComputedStyle(l),Z=V.width,re=V.height,F=V.position,j=l.style.left,de=l.style.top,me=l.style.right,ie=l.style.bottom,he=l.style.overflow,R=A(A({},o[a]),u),H=W.createElement("div");(D=l.parentElement)===null||D===void 0||D.appendChild(H),H.style.left="".concat(l.offsetLeft,"px"),H.style.top="".concat(l.offsetTop,"px"),H.style.position=F,H.style.height="".concat(l.offsetHeight,"px"),H.style.width="".concat(l.offsetWidth,"px"),l.style.left="0",l.style.top="0",l.style.right="auto",l.style.bottom="auto",l.style.overflow="hidden";var b;if(Array.isArray(r))b={x:r[0],y:r[1],width:0,height:0};else{var Y=r.getBoundingClientRect();b={x:Y.x,y:Y.y,width:Y.width,height:Y.height}}var L=l.getBoundingClientRect(),ue=W.documentElement,te=ue.clientWidth,tr=ue.clientHeight,qe=ue.scrollWidth,ge=ue.scrollHeight,Ue=ue.scrollTop,ae=ue.scrollLeft,_=L.height,X=L.width,le=b.height,se=b.width,Ve={left:0,top:0,right:te,bottom:tr},ar={left:-ae,top:-Ue,right:qe-ae,bottom:ge-Ue},I=R.htmlRegion,Qe="visible",Se="visibleFirst";I!=="scroll"&&I!==Se&&(I=Qe);var Q=I===Se,ye=Lt(ar,P),C=Lt(Ve,P),xe=I===Qe?C:ye,O=Q?C:xe;l.style.left="auto",l.style.top="auto",l.style.right="0",l.style.bottom="0";var gr=l.getBoundingClientRect();l.style.left=j,l.style.top=de,l.style.right=me,l.style.bottom=ie,l.style.overflow=he,(y=l.parentElement)===null||y===void 0||y.removeChild(H);var Ee=mr(Math.round(X/parseFloat(Z)*1e3)/1e3),Re=mr(Math.round(_/parseFloat(re)*1e3)/1e3);if(Ee===0||Re===0||ct(r)&&!Kt(r))return;var yr=R.offset,ne=R.targetOffset,Ir=Tt(L,yr),wr=M(Ir,2),oe=wr[0],p=wr[1],ce=Tt(b,ne),br=M(ce,2),Cr=br[0],Ar=br[1];b.x-=Cr,b.y-=Ar;var Ke=R.points||[],K=M(Ke,2),ke=K[0],jr=K[1],we=xt(jr),J=xt(ke),Mr=er(b,we),nr=er(L,J),Pe=A({},R),x=Mr.x-nr.x+oe,w=Mr.y-nr.y+p,ve=ee(x,w),fe=ee(x,w,C),ze=er(b,["t","l"]),or=er(L,["t","l"]),ir=er(b,["b","r"]),ur=er(L,["b","r"]),U=R.overflow||{},qr=U.adjustX,Sr=U.adjustY,Je=U.shiftX,lr=U.shiftY,kr=function(Ae){return typeof Ae=="boolean"?Ae:Ae>=0},$e,De,Le,Ge;Wr();var sr=kr(Sr),cr=J[0]===we[0];if(sr&&J[0]==="t"&&(De>O.bottom||f.current.bt)){var We=w;cr?We-=_-le:We=ze.y-ur.y-p;var He=ee(x,We),Ur=ee(x,We,C);He>ve||He===ve&&(!Q||Ur>=fe)?(f.current.bt=!0,w=We,p=-p,Pe.points=[Te(J,0),Te(we,0)]):f.current.bt=!1}if(sr&&J[0]==="b"&&($e<O.top||f.current.tb)){var B=w;cr?B+=_-le:B=ir.y-or.y-p;var Pr=ee(x,B),Vr=ee(x,B,C);Pr>ve||Pr===ve&&(!Q||Vr>=fe)?(f.current.tb=!0,w=B,p=-p,Pe.points=[Te(J,0),Te(we,0)]):f.current.tb=!1}var $r=kr(qr),Dr=J[1]===we[1];if($r&&J[1]==="l"&&(Ge>O.right||f.current.rl)){var _e=x;Dr?_e-=X-se:_e=ze.x-ur.x-oe;var Lr=ee(_e,w),Qr=ee(_e,w,C);Lr>ve||Lr===ve&&(!Q||Qr>=fe)?(f.current.rl=!0,x=_e,oe=-oe,Pe.points=[Te(J,1),Te(we,1)]):f.current.rl=!1}if($r&&J[1]==="r"&&(Le<O.left||f.current.lr)){var Be=x;Dr?Be+=X-se:Be=ir.x-or.x-oe;var Nr=ee(Be,w),Ze=ee(Be,w,C);Nr>ve||Nr===ve&&(!Q||Ze>=fe)?(f.current.lr=!0,x=Be,oe=-oe,Pe.points=[Te(J,1),Te(we,1)]):f.current.lr=!1}Wr();var be=Je===!0?0:Je;typeof be=="number"&&(Le<C.left&&(x-=Le-C.left-oe,b.x+se<C.left+be&&(x+=b.x-C.left+se-be)),Ge>C.right&&(x-=Ge-C.right-oe,b.x>C.right-be&&(x+=b.x-C.right+be)));var Fe=lr===!0?0:lr;typeof Fe=="number"&&($e<C.top&&(w-=$e-C.top-p,b.y+le<C.top+Fe&&(w+=b.y-C.top+le-Fe)),De>C.bottom&&(w-=De-C.bottom-p,b.y>C.bottom-Fe&&(w+=b.y-C.bottom+Fe)));var Ye=L.x+x,Xe=Ye+X,Ce=L.y+w,Tr=Ce+_,Ie=b.x,Ne=Ie+se,xr=b.y,Kr=xr+le,Jr=Math.max(Ye,Ie),Er=Math.min(Xe,Ne),Gr=(Jr+Er)/2,Zr=Gr-Ye,Yr=Math.max(Ce,xr),Rr=Math.min(Tr,Kr),Xr=(Yr+Rr)/2,Or=Xr-Ce;s==null||s(t,Pe);var zr=gr.right-L.x-(x+L.width),pr=gr.bottom-L.y-(w+L.height);k({ready:!0,offsetX:x/Ee,offsetY:w/Re,offsetR:zr/Ee,offsetB:pr/Re,arrowX:Zr/Ee,arrowY:Or/Re,scaleX:Ee,scaleY:Re,align:Pe})}}),$=function(){g.current+=1;var y=g.current;Promise.resolve().then(function(){g.current===y&&S()})},E=function(){k(function(y){return A(A({},y),{},{ready:!1})})};return G(E,[a]),G(function(){e||E()},[e]),[m.ready,m.offsetX,m.offsetY,m.offsetR,m.offsetB,m.arrowX,m.arrowY,m.scaleX,m.scaleY,m.align,$]}function ga(e,t,r,a,o){G(function(){if(e&&t&&r){let g=function(){a(),o()};var u=t,s=r,v=ft(u),d=ft(s),m=hr(s),k=new Set([m].concat(st(v),st(d)));return k.forEach(function(P){P.addEventListener("scroll",g,{passive:!0})}),m.addEventListener("resize",g,{passive:!0}),a(),function(){k.forEach(function(P){P.removeEventListener("scroll",g),m.removeEventListener("resize",g)})}}},[e,t,r])}function ya(e,t,r,a,o,u,s,v){var d=n.useRef(e),m=n.useRef(!1);d.current!==e&&(m.current=!0,d.current=e),n.useEffect(function(){var k=ht(function(){m.current=!1});return function(){ht.cancel(k)}},[e]),n.useEffect(function(){if(t&&a&&(!o||u)){var k=function(){var q=!1,V=function(F){var j=F.target;q=s(j)},Z=function(F){var j=F.target;!m.current&&d.current&&!q&&!s(j)&&v(!1)};return[V,Z]},g=k(),P=M(g,2),f=P[0],h=P[1],S=k(),$=M(S,2),E=$[0],D=$[1],y=hr(a);y.addEventListener("mousedown",f,!0),y.addEventListener("click",h,!0),y.addEventListener("contextmenu",h,!0);var l=vt(r);return l&&(l.addEventListener("mousedown",E,!0),l.addEventListener("click",D,!0),l.addEventListener("contextmenu",D,!0)),function(){y.removeEventListener("mousedown",f,!0),y.removeEventListener("click",h,!0),y.removeEventListener("contextmenu",h,!0),l&&(l.removeEventListener("mousedown",E,!0),l.removeEventListener("click",D,!0),l.removeEventListener("contextmenu",D,!0))}}},[t,r,a,o,u])}var wa=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function ba(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Bt,t=n.forwardRef(function(r,a){var o=r.prefixCls,u=o===void 0?"rc-trigger-popup":o,s=r.children,v=r.action,d=v===void 0?"hover":v,m=r.showAction,k=r.hideAction,g=r.popupVisible,P=r.defaultPopupVisible,f=r.onPopupVisibleChange,h=r.afterPopupVisibleChange,S=r.mouseEnterDelay,$=r.mouseLeaveDelay,E=$===void 0?.1:$,D=r.focusDelay,y=r.blurDelay,l=r.mask,W=r.maskClosable,q=W===void 0?!0:W,V=r.getPopupContainer,Z=r.forceRender,re=r.autoDestroy,F=r.destroyPopupOnHide,j=r.popup,de=r.popupClassName,me=r.popupStyle,ie=r.popupPlacement,he=r.builtinPlacements,R=he===void 0?{}:he,H=r.popupAlign,b=r.zIndex,Y=r.stretch,L=r.getPopupClassNameFromAlign,ue=r.fresh,te=r.alignPoint,tr=r.onPopupClick,qe=r.onPopupAlign,ge=r.arrow,Ue=r.popupMotion,ae=r.maskMotion,_=r.popupTransitionName,X=r.popupAnimation,le=r.maskTransitionName,se=r.maskAnimation,Ve=r.className,ar=r.getTriggerDOMNode,I=Ut(r,wa),Qe=re||F||!1,Se=n.useState(!1),Q=M(Se,2),ye=Q[0],C=Q[1];G(function(){C(ia())},[]);var xe=n.useRef({}),O=n.useContext(Pt),gr=n.useMemo(function(){return{registerSubPopup:function(c,N){xe.current[c]=N,O==null||O.registerSubPopup(c,N)}}},[O]),Ee=aa(),Re=n.useState(null),yr=M(Re,2),ne=yr[0],Ir=yr[1],wr=je(function(i){ct(i)&&ne!==i&&Ir(i),O==null||O.registerSubPopup(Ee,i)}),oe=n.useState(null),p=M(oe,2),ce=p[0],br=p[1],Cr=n.useRef(null),Ar=je(function(i){ct(i)&&ce!==i&&(br(i),Cr.current=i)}),Ke=n.Children.only(s),K=(Ke==null?void 0:Ke.props)||{},ke={},jr=je(function(i){var c,N,z=ce;return(z==null?void 0:z.contains(i))||((c=vt(z))===null||c===void 0?void 0:c.host)===i||i===z||(ne==null?void 0:ne.contains(i))||((N=vt(ne))===null||N===void 0?void 0:N.host)===i||i===ne||Object.values(xe.current).some(function(T){return(T==null?void 0:T.contains(i))||i===T})}),we=Dt(u,Ue,X,_),J=Dt(u,ae,se,le),Mr=n.useState(P||!1),nr=M(Mr,2),Pe=nr[0],x=nr[1],w=g??Pe,ve=je(function(i){g===void 0&&x(i)});G(function(){x(g||!1)},[g]);var fe=n.useRef(w);fe.current=w;var ze=n.useRef([]);ze.current=[];var or=je(function(i){var c;ve(i),((c=ze.current[ze.current.length-1])!==null&&c!==void 0?c:w)!==i&&(ze.current.push(i),f==null||f(i))}),ir=n.useRef(),ur=function(){clearTimeout(ir.current)},U=function(c){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ur(),N===0?or(c):ir.current=setTimeout(function(){or(c)},N*1e3)};n.useEffect(function(){return ur},[]);var qr=n.useState(!1),Sr=M(qr,2),Je=Sr[0],lr=Sr[1];G(function(i){(!i||w)&&lr(!0)},[w]);var kr=n.useState(null),$e=M(kr,2),De=$e[0],Le=$e[1],Ge=n.useState([0,0]),sr=M(Ge,2),cr=sr[0],We=sr[1],He=function(c){We([c.clientX,c.clientY])},Ur=ha(w,ne,te?cr:ce,ie,R,H,qe),B=M(Ur,11),Pr=B[0],Vr=B[1],$r=B[2],Dr=B[3],_e=B[4],Lr=B[5],Qr=B[6],Be=B[7],Nr=B[8],Ze=B[9],be=B[10],Fe=fa(ye,d,m,k),Ye=M(Fe,2),Xe=Ye[0],Ce=Ye[1],Tr=Xe.has("click"),Ie=Ce.has("click")||Ce.has("contextMenu"),Ne=je(function(){Je||be()}),xr=function(){fe.current&&te&&Ie&&U(!1)};ga(w,ce,ne,Ne,xr),G(function(){Ne()},[cr,ie]),G(function(){w&&!(R!=null&&R[ie])&&Ne()},[JSON.stringify(H)]);var Kr=n.useMemo(function(){var i=ma(R,u,Ze,te);return rr(i,L==null?void 0:L(Ze))},[Ze,L,R,u,te]);n.useImperativeHandle(a,function(){return{nativeElement:Cr.current,forceAlign:Ne}});var Jr=n.useState(0),Er=M(Jr,2),Gr=Er[0],Zr=Er[1],Yr=n.useState(0),Rr=M(Yr,2),Xr=Rr[0],Or=Rr[1],zr=function(){if(Y&&ce){var c=ce.getBoundingClientRect();Zr(c.width),Or(c.height)}},pr=function(){zr(),Ne()},ee=function(c){lr(!1),be(),h==null||h(c)},Wr=function(){return new Promise(function(c){zr(),Le(function(){return c})})};G(function(){De&&(be(),De(),Le(null))},[De]);function Me(i,c,N,z){ke[i]=function(T){var _r;z==null||z(T),U(c,N);for(var nt=arguments.length,dt=new Array(nt>1?nt-1:0),Br=1;Br<nt;Br++)dt[Br-1]=arguments[Br];(_r=K[i])===null||_r===void 0||_r.call.apply(_r,[K,T].concat(dt))}}(Tr||Ie)&&(ke.onClick=function(i){var c;fe.current&&Ie?U(!1):!fe.current&&Tr&&(He(i),U(!0));for(var N=arguments.length,z=new Array(N>1?N-1:0),T=1;T<N;T++)z[T-1]=arguments[T];(c=K.onClick)===null||c===void 0||c.call.apply(c,[K,i].concat(z))}),ya(w,Ie,ce,ne,l,q,jr,U);var Ae=Xe.has("hover"),Oe=Ce.has("hover"),pe,vr;Ae&&(Me("onMouseEnter",!0,S,function(i){He(i)}),Me("onPointerEnter",!0,S,function(i){He(i)}),pe=function(){(w||Je)&&U(!0,S)},te&&(ke.onMouseMove=function(i){var c;(c=K.onMouseMove)===null||c===void 0||c.call(K,i)})),Oe&&(Me("onMouseLeave",!1,E),Me("onPointerLeave",!1,E),vr=function(){U(!1,E)}),Xe.has("focus")&&Me("onFocus",!0,D),Ce.has("focus")&&Me("onBlur",!1,y),Xe.has("contextMenu")&&(ke.onContextMenu=function(i){var c;fe.current&&Ce.has("contextMenu")?U(!1):(He(i),U(!0)),i.preventDefault();for(var N=arguments.length,z=new Array(N>1?N-1:0),T=1;T<N;T++)z[T-1]=arguments[T];(c=K.onContextMenu)===null||c===void 0||c.call.apply(c,[K,i].concat(z))}),Ve&&(ke.className=rr(K.className,Ve));var fr=A(A({},K),ke),Hr={},et=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];et.forEach(function(i){I[i]&&(Hr[i]=function(){for(var c,N=arguments.length,z=new Array(N),T=0;T<N;T++)z[T]=arguments[T];(c=fr[i])===null||c===void 0||c.call.apply(c,[fr].concat(z)),I[i].apply(I,z)})});var rt=n.cloneElement(Ke,A(A({},fr),Hr)),tt={x:Lr,y:Qr},at=ge?A({},ge!==!0?ge:{}):null;return n.createElement(n.Fragment,null,n.createElement(Ht,{disabled:!w,ref:Ar,onResize:pr},n.createElement(va,{getTriggerDOMNode:ar},rt)),n.createElement(Pt.Provider,{value:gr},n.createElement(ca,{portal:e,ref:wr,prefixCls:u,popup:j,className:rr(de,Kr),style:me,target:ce,onMouseEnter:pe,onMouseLeave:vr,onPointerEnter:pe,zIndex:b,open:w,keepDom:Je,fresh:ue,onClick:tr,mask:l,motion:we,maskMotion:J,onVisibleChanged:ee,onPrepare:Wr,forceRender:Z,autoDestroy:Qe,getPopupContainer:V,align:Ze,arrow:at,arrowPos:tt,ready:Pr,offsetX:Vr,offsetY:$r,offsetR:Dr,offsetB:_e,onAlign:Ne,stretch:Y,targetWidth:Gr/Be,targetHeight:Xr/Nr})))});return t}const Na=ba(Bt);export{Pa as K,Na as T,ia as a,La as b,$a as g,Da as i};
